<!DOCTYPE html>
<!--[if lt IE 7]>      <html ng-app="App" class="lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html ng-app="App" class="lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html ng-app="App" class="lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html ng-app="App" class=""> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Admin Console of Act</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/app/app.468fc232.css">
  
</head>
<body>

<!-- Begin Templates -->
<script type="text/ng-template" id="src/app/contacts/template.html">
<div class="contacts-view" ng-controller="App.Contacts.Controller">
	contacts
</div>
</script>

<script type="text/ng-template" id="src/app/files/invite-team-users/template.html">
<div class="invite-team-users-inner" ng-class="{broad:broad}">
  <div class="modal-header">
    <button class="bootbox-close-button close" type="button" ng-click="cancel()">
      ×
    </button>
    <h3 class="modal-title">邀请协作人</h3>
  </div>
  <div class="modal-body invite-form">
    <form role="form" class="form-horizontal invite-content" ng-class="{'col-sm-12':!broad, 'col-sm-8':broad}">
      <div class="form-group input-from-group">
        <div class="col-sm-12">
          <input type="name" class="form-control" name="username" placeholder="输入姓名或者邮箱" ng-model="inviteInputValue" ng-enter="inviteBypress(inviteInputValue)">
        </div>
      </div>
      <div class="form-group or-from-group">
        <div class="col-sm-12">
          或
        </div>
      </div>
      <div class="form-group select-from-group">
        <div class="col-sm-12">
          <input type="button" class="btn btn-default form-control" ng-click="showGRroupUser()" value="从联系人列表中选取"></input>
        </div>
      </div>
      <h5>已选取</h5>
      <div class="form-group">
        <div class="col-sm-12 selected-groups-users">
          <div class="selectedItem" ng-repeat="group in invitedList.groupList">
            <span class="selectedName">{{group.group_name}}</span>
            <span class="fa fa-times deleteSelected" ng-click = "deleteSelectedGroup(group)">x</span>
          </div>
          <div class="selectedItem" ng-repeat="user in invitedList.userList">
            <span class="selectedName">{{user.real_name}}</span>
            <span class="fa fa-times deleteSelected" ng-click = "deleteSelectedUser(user)">x</span>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-12">
          <div class="dropdown" is-open="permissionOpen">
            <button class="btn btn-default dropdown-toggle form-control" type="button" data-toggle="dropdown">
              {{selectedPermissionValue}}
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu">        
              <li role="presentation" ng-repeat="value in permission_value" ng-click = "selectedPermission(value)">
                <a role="menuitem" tabindex="-1">
                  {{value}}
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <h5>留言</h5>
      <div class="form-group">
        <div class="col-sm-12">
          <textarea type="text" placeholder="" class="form-control comment-input" ng-model = "comment"></textarea>
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-12">
          <input type="button" class="btn btn-primary form-control" ng-click="createShare()" value="发送邀请"></input>
        </div>
      </div>
    </form>
    <div class="col-sm-4 select-invite"  ng-show = "broad">
      <div class="form-group">
        <div class="col-sm-12">
          <input type="name" class="form-control" name="username" placeholder="输入姓名或者邮箱">
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-12">
          全选
        </div>
      </div>
      <div class="groups-users">  
        <div class="groups-div">
          <div class="group" ng-repeat="group in groupList">
            <input type="checkbox" ng-click = "inviteBySelect(group, group.selected)" ng-model = "group.selected"/>
            <img  width="24px" height="24px" src="./images/grouplist_icon.png"/>
            <span class="group-name">{{group.group_name}}</span>
            <span class="group-user-count">({{group.user_count}})</span>
            <span class="arrows-img" ng-click = "changeGroupshow(group)"></span>
            <div class="col-sm-12 group-user" ng-repeat="user in group.users" ng-show = "group.show">
              <img  width="24px" height="24px" ng-src="{{user.avatar}}"/>
              <span class="group-name">{{user.real_name}}</span>
            </div>
          </div>
        </div>
        <div class="users-div">
          <div class="user" ng-repeat="user in userList">
            <input type="checkbox" ng-click = "inviteBySelect(user, user.selected)" ng-model = "user.selected" />
            <img  width="24px" height="24px" ng-src="{{user.avatar}}"/>
            <span class="group-name">{{user.real_name}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</script>

<script type="text/ng-template" id="src/app/files/link-share/template.html">
<div class="modal-header">
  <button class="bootbox-close-button close" type="button" ng-click="cancel()">
    ×
  </button>
  <h3 class="modal-title">"{{obj.file_name}}"链接分享</h3>
</div>
<div class="modal-body">
  <form role="form" class="form-horizontal link-share-content" ng-show = "linkCreateOrSend">
    <h5>链接有效期至</h5>
    <p class="input-group">
      <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="dt" is-open="opened" min-date="minDate" max-date="'2015-06-22'" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" />
      <span class="input-group-btn">
        <button type="button" class="btn btn-default" ng-click="open($event)">
          <i class="glyphicon glyphicon-calendar"></i>
        </button> </span>
    </p>
    <div class="checkbox">
      <label class="pull-left">
        <input type="checkbox" ng-model="linkSharePasswordShow" ng-click = "changeLinkSharePasswordShow()">
        设置访问密码 </label>
    </div>
    <div class="form-group input-password">
      <div class="col-sm-11 col-sm-offset-1">
        <input type="{{linkSharePasswordType}}" class="form-control" placeholder="输入访问密码" ng-model="linkSharePassword" ng-disabled="!linkSharePasswordShow">
      </div>
      <div class="col-sm-11 col-sm-offset-1">
        <div class="checkbox">
          <label class="pull-left">
            <input type="checkbox" ng-click="changeLinkSharePasswordType()">
            显示密码 </label>
        </div>
      </div>
    </div>
    <h5>链接权限</h5>
    <div class="form-group">
      <div class="col-sm-12">
        <div class="dropdown" is-open="permissionOpen" is-open="permissionOpen">
          <button class="btn btn-default dropdown-toggle form-control" type="button" data-toggle="dropdown">
            {{linkSharePermissionValue}}
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu">
            <li role="presentation" ng-repeat="value in linkSharePermissionValueList" ng-click = "changeLinkSharePermission(value)">
              <a role="menuitem" tabindex="-1">
                {{value}}
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <h5>链接描述</h5>
    <div class="form-group">
      <div class="col-sm-12">
        <textarea type="text" placeholder="" class="form-control comment-input" ng-model = "comment"></textarea>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <input type="button" class="btn btn-primary form-control" ng-click="createLinkShare()" value="生成链接">
        </input>
      </div>
    </div>
  </form>
  <form role="form" class="form-horizontal send-share-content" ng-hide = "linkCreateOrSend">
    <h5>链接地址</h5>
    <div class="form-group">
      <div class="col-sm-9">
        <input type="text" class="form-control" ng-model="link">
      </div>
      <div class="col-sm-3">
        <input type="button" class="btn btn-default form-control" value="复制" clip-copy="getTextLinkUrl()">
        </input>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-6 col-sm-offset-3 code_src">
        <img width="145px" ng-src = "{{code_src}}"/>
      </div>
      <div class="col-sm-6 col-sm-offset-3">
        <input type="button" class="btn btn-default form-control" ng-click="backToCreate()" value="返回修改">
        </input>
      </div>
    </div>
    <h5>邮件分享</h5>
    <div class="form-group">
      <div class="col-sm-12">
        <input
          type="hidden"
          ui-select2="emailSelectOptions"
          ng-model="selectedEmails"
          style="width:100%;"
          />
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-12">
        <input type="button" class="btn btn-primary form-control" ng-click="sendEmail()" value="发送邮件">
        </input>
      </div>
    </div>
    
  </form> 
</div>
</script>

<script type="text/ng-template" id="src/app/files/modal-upload.html">
<div class="modal-header">
  <button class="bootbox-close-button close" type="button" ng-click="cancel()">
    ×
  </button>
  <h3 class="modal-title">上传文件</h3>
</div>
<div class="modal-body">
  <div class="upload-box"
    ng-file-drop="onFileSelect($files)"
    ng-file-drag-over-class="drop-box-over"
    ng-file-drag-over-delay="100">
    <div ng-file-select="onFileSelect($files)" class="upload-select"><a>选择要上传的文件</a></div>
    <div class="upload-drop">也可以拖拽文件到该区域，完成上传</div>
  </div>
</div>
</script>

<script type="text/ng-template" id="src/app/files/move-file/template.html">
<div class="modal-header">
	<button class="bootbox-close-button close" type="button" ng-click="cancel()">
		×
	</button>
	<h3 class="modal-title">移动文件夹</h3>
</div>
<div class="modal-body">
	<div
    data-angular-treeview="true"
    data-tree-id="{{treeId}}"
    data-tree-model="treedata"
    data-node-id="id"
    data-node-label="text"
    data-node-children="_child" >
</div>
</div>
<div class="modal-footer">
	<button class="btn btn-primary" ng-click="ok()">
		移动
	</button>
	<button class="btn btn-default" ng-click="cancel()">
		取消
	</button>
</div>
</script>

<script type="text/ng-template" id="src/app/files/preview-file/template.html">
<div class="modal-body">
  <div class="preview-view col-sm-10">
    <div class="modal-header">
      <button class="btn btn-default upload-new-version" type="button" ng-click="cancel()">
                   上传新版本
      </button>
      <h3 class="modal-title">"{{obj.file_name}}"文件预览</h3>
    </div>
    <div class="image-preview" ng-show = "fileType == 'image'">
      <img ng-src="{{imageSrc}}" alt="null"/>
    </div>
    <div class="txt-preview" ng-show = "fileType == 'txt'" ng-bind-html = "previewValue">

    </div>
    <div class="office-preview" ng-show = "fileType == 'office'" ng-bind-html = "previewValue">

    </div>
  </div>
  <div class="col-sm-2 discuss-version-view">
    <ul class="nav nav-sidebar">
      <li class="disc" ng-class="{ active: navType == 'dis'}" ng-click = "changeNavType('dis')">
        讨论
      </li>
      <li class="ver" ng-class="{ active: navType == 'ver'}" ng-click = "changeNavType('ver')">
        版本
      </li>
      <button class="bootbox-close-button close" type="button" ng-click="cancel()">
        ×
      </button>
    </ul>
    <div class="discuss" ng-show = "navType == 'dis'">
      discuss
    </div>
    <div class="version" ng-show = "navType == 'ver'">
      version
    </div>
  </div>
</div>
</script>

<script type="text/ng-template" id="src/app/files/template.html">
<div class="files-view" ng-controller="App.Files.Controller">
	<div class="top-bar">
		<div class="pull-left root-path" ng-class = "{ isRoot: isRoot }"> 
			<a ui-sref="files({folderId: 0})">
				根目录
			</a>
		</div>
		<div class="folder-crumb pull-left" ng-repeat="path in folderPath">
			<img src="images/arrow_icon.png" />
			<a ui-sref="files({folderId: path.id})">
				{{path.name}}
			</a>
		</div>
		<!--<div class="view-model-swither pull-right">
			视图转换and排序
		</div>-->
	</div>
	<div class="top-bar-bottom">
	  
	</div>
	<div class="buttonGroup">
       <button ng-click="upload()" class="btn btn-default">上传文件</button>
		<button ng-click='showCreateFolder()' class="btn btn-default">
			新建文件夹
		</button>
	</div>
	<div class="title">
	  <div class="title-checkbox col">
	    <input type="checkbox" ng-click = "selectedAllswitch()" ng-model = "selectedAll"/>
	  </div>
	  <div class="title-name col">
	    <span>名称</span>
	  </div>
	  <div class="title-state col">
	    <span>状态</span>           
	  </div>
	  <div class="title-size col">
	    <span>大小</span>      
	  </div>
	  <div class="title-permission col">
	    <span>权限</span>          
	  </div>
	  <div class="title-action col">
      <span>分享</span>          
    </div>
  </div>
  <perfect-scrollbar class="scroller" wheel-propagation="true" wheel-speed="50" refresh-on-change="">
		<div class="folder-grid">
			<div class="table">
					<div ng-show = "showCreateFolderDiv" class="create-folder-div">
							<input type="text" placeholder="文件夹名称" class="create-folder form-control col-sm-8" ng-model = "createFolderName" >
							<div class="create-buttonGroup col-sm-6">
								<button ng-click="createFolder(createFolderName)" class="btn btn-default">
									确定
								</button>
								<button ng-click="cancleCreate()" class="btn btn-default">
									取消
								</button>
							</div>
					</div>
					<div class="file-row" ng-repeat="obj in objList" ng-class = "{ selected: obj.checked }" context-menu="onRightClick(obj)" data-target="myMenu" ng-click = "selectObj($event, obj)">
						<div class="input-checkbox-td">
						<input type="checkbox" ng-model = "obj.checked" ng-click = "selectObj($event, obj)"/>
						</div>
						<div class="img-name-td">
							<img ng-src = "{{obj.smallIcon}}" height="42px" width="42px"/>
							<div class="file-name" ng-hide = "obj.rename">
								<a ui-sref="files({folderId: obj.file_id})" ng-show = "obj.folder">
									{{obj.folder_name}}
								</a>
								<a ng-show = "!obj.folder&&obj.isPreview" ng-click = "previewFile(obj)">
									{{obj.file_name}}
								</a>
								<a ng-show = "!obj.folder&&!obj.isPreview" ng-class = "{ noPreview: !obj.isPreview }">
									{{obj.file_name}}
								</a>
								<div class="tag">
									<span>+添加标签</span>
								</div>
							</div>
							<div class="rename-form" ng-show = "obj.rename">
								<input type="text" class="rename-file form-control col-sm-8" ng-model = "renameInputValue" >
								<div class="rename-buttonGroup">
									<button ng-click="renameFile(renameInputValue)" class="btn btn-default">
										确定
									</button>
									<button ng-click="cancleRenameFile()" class="btn btn-default">
										取消
									</button>
								</div>
							</div>
						</div>
						<div class="state-td"> {{obj.create_uname}}于{{obj.format_date}}更新 </div>
						<div class="file-sise-td">
						  <img src="images/file_icon.png" ng-show = "obj.folder"/>
						  <span ng-show = "obj.folder">{{obj.file_count}}</span>
						  <span ng-hide = "obj.folder">{{obj.format_size}}</span>
						</div>
						<div class="permission-td"> {{obj.permission_value}} </div>
						<div class="action-td">
							<div class = "link-share-ico" ng-click = "linkShare($event, obj)"></div>
							<div class = "share-ico" ng-show = "obj.folder" ng-click = "inviteTeamUsers($event, obj)"></div>
							  <span>{{obj.user_count}}</span>
							<div class = "discuss-ico" ng-hide = "obj.folder" ></div>
							  <span>{{obj.discuss_count}} </span>		
						</div>
					</div>
					<div class="dropdown position-fixed" id="myMenu">
						<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu2">
							<li>
								<a class="pointer" role="menuitem" tabindex="1" ng-click="dowloadFile()">
									下载
								</a>
							</li>
							<li>
								<a class="pointer" role="menuitem" tabindex="2" ng-click="deleteObj()">
									删除
								</a>
							</li>
							<li>
								<a class="pointer" role="menuitem" tabindex="3" ng-click="moveFile()">
									移动
								</a>
							</li>
							<li>
								<a class="pointer" role="menuitem" tabindex="4" ng-click="renameFileForm()">
									重命名
								</a>
							</li>
							<li>
								<a ng-click="openUserDiscuss(checkedObj.file_id)" class="large button">
									讨论
								</a>
							</li>
						</ul>
					</div>
			</div>
		</div>
	</perfect-scrollbar>
	<pageslide
		ps-speed="0.5"
		ps-custom-top="78px"
		ps-custom-bottom="40px"
		ps-size="400px"
		ps-auto-close="true"
		href="#user-discuss-right"
		ps-open="discussOpened">
	</pageslide>
	<div class="user-discuss-view" id="user-discuss-right" ng-controller="App.Files.UserDiscussController">
	    <h2 class="col-sm-12">讨论{{test}}</h2>
	     <perfect-scrollbar class="scroller" wheel-propagation="true" wheel-speed="50" refresh-on-change="">
		    <div class="disc-item-list col-sm-12">
		    	<div ng-repeat="userDiscuss in userDiscussList" class="disc-item">
		    		<img ng-src = "{{userDiscuss.avatar}}" height="30px" width="30px"/>
		    		<div class="disc-box">
		    			<div class="disc-name">{{userDiscuss.real_name}}</div>
		    			<div class="disc-time">{{userDiscuss.format_date}}</div>
		    			<div class="disc-content">{{userDiscuss.content}}</div>
		    		</div>
		    	</div>
		    </div>
		   </perfect-scrollbar>
	    <div class="disc-inputbox col-sm-12">
			<textarea style="width: 100%;" ng-change = "changeDiscussInput(discussContent)" ng-model = "discussContent"></textarea>
			<a id="user-discuss-right-close" class="button" >Close</a>
			<button class="btn btn-default pull-right" ng-disabled="discussButton" ng-click = "createUserDiscuss()">
				发表
			</button>
			<label class="pull-right">{{discussCount}}/200</label>
		</div>
	</div>
</div>
<div class="team-collaboration" ng-controller="App.Files.TeamController">
	<div class="groups-users" ng-show = "isRoot">
		根目录下不能邀请协作人
	</div>
	<div class="groups-users" ng-hide = "isRoot">
		<div class="groups-users-header col-sm-12">
			<span class="pull-left">全部协作人</span>
			<a class="pull-right">增加协作人</a>
		</div>
		<div class="groups col-sm-12" ng-repeat="group in groups" >
			<div class="group-div">
				<div class="img" ng-click = "changeGroupshow(group)">
					<span class="arrows-img"></span>
					<img  width="24px" height="24px" src="./images/grouplist_icon.png"/>
				</div>
				<div class="group-name">
					<span>{{group.group_name}}</span>
					<span class="group-user-count">({{group.user_count}})</span>
				</div>
				<div class="group-permission" dropdown>
					<span class="dropdown-toggle">{{group.permission_value}}<span class="caret"></span></span>
					<ul class="dropdown-menu" role="menu">
						<li role="presentation" ng-repeat="value in permission_value" ng-click = "changeGroupPermission(group, value)">
							<a role="menuitem" tabindex="-1">
								{{value}}
							</a>
						</li>
					</ul>
				</div>
				<div class="delete-group">
					<span class="" ng-click = "deleteGroupShare(group)">X</span>
				</div>
			</div>
			<div class="col-sm-12">
				<div class="col-sm-12 group-user" ng-repeat="user in group.users" ng-show = "group.show">
					<img  width="24px" height="24px" ng-src="{{user.avatar}}"/>
					<span class="group-name">{{user.real_name}}</span>
				</div>
			</div>
		</div>
		<div class="users col-sm-12" ng-repeat="user in users">
			<div class="img">
				<img  width="24px" height="24px" ng-src="{{user.avatar}}"/>
			</div>
			<div class="user-name">
				<span class="user-name">{{user.real_name}}</span>
			</div>
			<div class="user-permission" dropdown is-open="user.isopen">
				<span class="group-permission dropdown-toggle">{{user.permission_value}}<span class="caret"></span></span>
				<ul class="dropdown-menu" role="menu">
					<li role="presentation" ng-repeat="value in permission_value" ng-click = "changeUserPermission(user, value)">
						<a role="menuitem" tabindex="-1">
							{{value}}
						</a>
					</li>
				</ul>
			</div>
			<div class="delete-user">
				<span class="" ng-click = "deleteUserShare(user)">X</span>
			</div>
		</div>
	</div>
</div>
</script>

<script type="text/ng-template" id="src/app/header/template.html">
<div class="header-view" ng-controller="App.Header.Controller">
	<div class="header-top">
		<div class="user-info pull-right" dropdown is-open="status.isopen">
			<div class="username dropdown-toggle" ng-class="{hover: hover}" ng-mouseenter="hover = true" ng-mouseleave="hover = false">
				<span>{{user.user_name}}</span>
				<div class="personalInfor"></div>
			</div>
			<ul class="dropdown-menu" role="menu">
        		<li ng-click = "userInfoWin()"><a>个人信息</a></li>
        		<li ng-click = "toLogin()"><a>退出</a></li>
      </ul>
			<img class="userpic" ng-src="{{user.avatar}}" alt="" />
		</div>
		<div class="to-admin-control pull-right" ng-click = "toadmin()">
			管理控制台
		</div>
		<div class="notif_box" class="message-notice pull-right">
			<span class="notice" title="通知"></span>
			<label class="message-count notice-count" ng-show = "showMessageCount">{{messageCount}}</label>
			<span class="message" title="消息"></span>
			<label class="message-count letter-count" ng-show = "showMoticeCount">{{noticeCount}}</label>
		</div>
	</div>
	<div class="header-search" role="navigation">
		<div class="logo pull-left"></div>
		<div class="search pull-left">
			<input type="text" placeholder="搜索" class="search-text form-control">
			<button class="search-button btn btn-default">
				搜索
			</button>
		</div>
	</div>
</div>
</script>

<script type="text/ng-template" id="src/app/header/user-info/template.html">
<div class="modal-header">
  <button class="bootbox-close-button close" type="button" ng-click="cancel()">
    ×
  </button>
  <h3 class="modal-title">账号设置</h3>
</div>
<div class="modal-body">
  <form role="form" class="form-horizontal link-share-content">
    <h5>个人设置</h5>
    <div class="form-group user-info">
      <div class="col-sm-3">
        <img ng-src="{{userInfo.avatar}}" />
      </div>
      <div class="col-sm-9">
        <div class="form-group">
          <label>姓名</label>
        </div>
        <div class="form-group">
          <input type="text" class="form-control" ng-model="userInfo.real_name">
        </div>
        <div class="form-group">
          <label>手机号码</label>
        </div>
        <div class="form-group">
          <input type="text" class="form-control" ng-model="userInfo.phone">
        </div>
        <div class="form-group">
          <label>邮箱地址</label>
        </div>
        <div class="form-group">
          <input type="text" class="form-control" ng-model="userInfo.email" disabled>
        </div>
      </div>
    </div>

    <h5>修改密码</h5>
    <div class="form-group">
       <label class="col-sm-3 control-label">当前密码</label>
       <div class="col-sm-9">
         <input type="password" class="form-control" ng-model="userInfo.old_password">
       </div>
    </div>
    <div class="form-group">
       <label class="col-sm-3 control-label">新的密码</label>
       <div class="col-sm-9">
         <input type="password" class="form-control" ng-model="userInfo.new_password">
       </div>
    </div>
    <div class="form-group">
       <label class="col-sm-3 control-label">确认密码</label>
       <div class="col-sm-9">
         <input type="password" class="form-control" ng-model="userInfo.confim_password">
       </div>
    </div>
    <div class="form-group save-button">
      <div class="col-sm-10 col-sm-offset-1">
        <input type="button" class="btn btn-primary form-control" ng-click="updateInfo()" value="保存修改">
        </input>
      </div>
    </div>
  </form>
</div>
</script>

<script type="text/ng-template" id="src/app/sidebar/template.html">
<div class="sidebar-view" ng-controller="App.Sidebar.Controller">
  <ul class="nav nav-sidebar">
    <li ng-class="{ active: $state.includes('files') }">
      <a ui-sref="files" class="files">
        <span class="files-img"></span>
        	所有文件
      </a>
    </li>
    <li ng-class="{ active: $state.includes('updates') }">
      <a ui-sref="updates" class="updates">
        <span class="updates-img"></span>
        	最近更新
      </a>
    </li>
    <li ng-class="{ active: $state.includes('contacts') }">
      <a ui-sref="contacts" class="contacts">
        <span class="contacts-img"></span>
        	联系人
      </a>
    </li>
    <li ng-class="{ active: $state.includes('trash') }">
      <a ui-sref="trash" class="trash">
        <span class="trash-img"></span>
       		回收中心
      </a>
    </li>
  </ul>
  <div class="storage">
  	<div class="col-sm-12 storage-progressbar"><progressbar class="" value= "storage.percentage" type="success">{{storage.percentage}}%</progressbar></div>
  	<span class="pull-right">{{storage.used_space}}/{{storage.total_space}}</span>
  </div>
</div>
</script>

<script type="text/ng-template" id="src/app/trash/delete-recycle-confim.html">
<div class="modal-header">
  <button class="bootbox-close-button close" type="button" ng-click="cancel()">
    ×
  </button>
  <h3 class="modal-title">彻底删除</h3>
</div>
<div class="modal-body">
  是否确定彻底删除选中文件
</div>
<div class="modal-footer">
  <button class="btn btn-primary" ng-click="ok()">
    确定
  </button>
  <button class="btn btn-default" ng-click="cancel()">
    取消
  </button>
</div>
</script>

<script type="text/ng-template" id="src/app/trash/empty-recycle-confim.html">
<div class="modal-header">
  <button class="bootbox-close-button close" type="button" ng-click="cancel()">
    ×
  </button>
  <h3 class="modal-title">清空回收站</h3>
</div>
<div class="modal-body">
  是否确定清空回收站
</div>
<div class="modal-footer">
  <button class="btn btn-primary" ng-click="ok()">
    确定
  </button>
  <button class="btn btn-default" ng-click="cancel()">
    取消
  </button>
</div>
</script>

<script type="text/ng-template" id="src/app/trash/revert-recycle-confim.html">
<div class="modal-header">
  <button class="bootbox-close-button close" type="button" ng-click="cancel()">
    ×
  </button>
  <h3 class="modal-title">还原文件</h3>
</div>
<div class="modal-body">
  是否确定还原选中文件
</div>
<div class="modal-footer">
  <button class="btn btn-primary" ng-click="ok()">
    确定
  </button>
  <button class="btn btn-default" ng-click="cancel()">
    取消
  </button>
</div>
</script>

<script type="text/ng-template" id="src/app/trash/template.html">
<div class="trash-view" ng-controller="App.Trash.Controller">
  <div class="top-bar">
    <div class="pull-left root-path" ng-class = "{ isRoot: isRoot }"> 
      <a>回收中心</a>
    </div>
  </div>
  <div class="top-bar-bottom">  
  </div>
  <div class="buttonGroup">
    <button ng-click="emptyRecycle()" class="btn btn-default">清空</button>
    <button ng-click='revertRecycle()' class="btn btn-default">还原</button>
    <button ng-click='deleteRecycle()' class="btn btn-default">彻底删除</button>
  </div>
  <div class="title">
    <div class="title-checkbox col">
      <input type="checkbox" ng-click = "selectedAllswitch()" ng-model = "selectedAll"/>
    </div>
    <div class="title-name col">
      <span>名称</span>
    </div>
    <div class="title-state col">
      <span>修改时间</span>           
    </div>
    <div class="title-size col">
      <span>大小</span>      
    </div>
  </div>
  <div class="folder-grid">
    <div class="table">
        <div class="file-row" ng-repeat="recycle in recycleList" ng-class = "{ selected: recycle.checked }" ng-click = "selectRecycle($event, recycle)">
          <div class="input-checkbox-td">
          <input type="checkbox" ng-model = "recycle.checked" ng-click = "selectRecycle($event, recycle)"/>
          </div>
          <div class="img-name-td">
            <img ng-src = "{{recycle.smallIcon}}" height="42px" width="42px"/>
            <div class="file-name">
              <a ui-sref="files({folderId: recycle.file_id})" ng-show = "recycle.folder">
                {{recycle.folder_name}}
              </a>
              <a ng-show = "!recycle.folder&&recycle.isPreview" ng-click = "previewFile(recycle)">
                {{recycle.file_name}}
              </a>
              <a ng-show = "!recycle.folder&&!recycle.isPreview" ng-class = "{ noPreview: !recycle.isPreview }">
                {{recycle.file_name}}
              </a>
              <div class="tag">
                <span>+添加标签</span>
              </div>
            </div>
          </div>
          <div class="state-td"> {{recycle.create_uname}}于{{recycle.format_date}}更新 </div>
          <div class="file-sise-td">
            <img src="images/file_icon.png" ng-show = "recycle.folder"/>
            <span ng-show = "recycle.folder">{{recycle.file_count}}</span>
            <span ng-hide = "recycle.folder">{{recycle.format_size}}</span>
          </div>
        </div>
    </div>
  </div>
</div>
<div class="team-collaboration" ng-controller="App.Files.TeamController">
  <div class="groups-users" ng-show = "isRoot">
    根目录下不能邀请协作人
  </div>
  <div class="groups-users" ng-hide = "isRoot">
    <div class="groups-users-header col-sm-12">
      <span class="pull-left">全部协作人</span>
      <a class="pull-right">增加协作人</a>
    </div>
  </div>
</div>
</script>

<script type="text/ng-template" id="src/app/updates/template.html">
<div class="updates-view"  id = "updates-view" ng-controller="App.Updates.Controller">
	Open Demo
</div>
</script>

<script type="text/ng-template" id="src/app/upload-progress-dialog/template.html">
<div ng-show="shown" ng-controller="App.UploadProgressDialog.Controller" class="upload-progress-win">
  <div class="dialog-header">
      <div class="dialog-title">正在上传</div>
      <div class="dialog-btn btn-close" ng-click="hide()"></div>
      <div class="dialog-btn btn-max" ng-show="!isMax" ng-click="max()"></div>
      <div class="dialog-btn btn-min" ng-show="isMax" ng-click="min()"></div>
  </div>
  <div class="dialog-body" ng-show="isMax">
      <div class="progress-item" id="ddupload_file_1_progress" ng-repeat="file in files">
          <img class="file-icon" src="./images/file_icon.png">
          <span class="file-name" title="webappdigger.png">{{file.name}}</span>
          <span class="file-size" ng-show = "file.progress == 100">{{file.fomateSize}}</span>
          <span class="file-progress" ng-hide = "file.progress == 100">
            <a style="width:{{file.progress}}%"></a>
          </span>
          <span class="file-progress-size" ng-hide = "file.progress == 100">
            {{file.progress}}%
          </span>
          <span class="file-upload-success dialog-btn" ng-show = "file.progress == 100">         
          </span>
          <span class="delete-upload dialog-btn" ng-hide = "file.progress == 100" ng-click="file.upload.abort()">          
          </span>
      </div>
  </div>
</div>
</script>

<script type="text/ng-template" id="src/app/widgets/notification/template.html">
<div class="modal-body">
    <div class="alert alert-{{notification.type}} alert-dismissible" role="alert">
      <button type="button" class="close" ng-click="close()" ng-show="notification.closeable" data-dismiss="alert"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
      {{notification.msg}}
    </div>
</div>
</script>
<!-- End Templates -->


  <div class="header" ng-include="'src/app/header/template.html'"></div>
  <div class="main">
    <div class="sidebar" ng-include="'src/app/sidebar/template.html'"></div>
    
    <div class="right-main" ui-view=""></div>

    <div class="main-bottom">
  		<div>
  			版权所有©2013 上海灵利信息技术有限公司
  		</div>
  		<div>
  			沪网文[2011]0682-074增值电信业务经营许可证编号:沪B2-20080012
  		</div>
	  </div>
  </div>

  <div class="upload-progress-dialog" style="display: block;" ng-include="'src/app/upload-progress-dialog/template.html'"></div>

  <script id="template/modal/window.html" type="text/ng-template">
    <div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{'z-index': 1050 + index*10, display: 'block'}" ng-click="close($event)">
        <div class="modal-dialog" ng-class="{'modal-sm': size == 'sm', 'modal-lg': size == 'lg'}"><div class="modal-content" modal-transclude>
        </div>
      </div>
    </div>
  </script>

  <script src="js/app.02aaa9de.js"></script>
</body>
</html>
