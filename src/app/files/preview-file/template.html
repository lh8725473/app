<div class="modal-body">
  <div class="preview-view col-sm-10">
    <div class="modal-header">
      <button class="btn btn-default upload-new-version" type="button" ng-click="cancel()">
                   上传新版本
      </button>
      <h3 class="modal-title">"{{obj.file_name}}"文件预览</h3>
    </div>
    <div class="image-preview" ng-show = "fileType == 'image'">
      <img ng-src="{{imageSrc}}" alt="null"/>
    </div>
    <div class="txt-preview" ng-show = "fileType == 'txt'" ng-bind-html = "previewValue">

    </div>
    <div class="office-preview" ng-show = "fileType == 'office' || fileType == 'pdf'" ng-bind-html = "previewValue">

    </div>
  </div>
  <div class="col-sm-2 discuss-version-view">
    <ul class="nav nav-sidebar">
      <li class="disc" ng-class="{ active: navType == 'dis'}" ng-click = "changeNavType('dis')">
        讨论
      </li>
      <li class="ver" ng-class="{ active: navType == 'ver'}" ng-click = "changeNavType('ver')">
        版本
      </li>
      <button class="bootbox-close-button close" type="button" ng-click="cancel()">
        ×
      </button>
    </ul>
    <div class="discuss" ng-show = "navType == 'dis'">
      <div ng-repeat="userDiscuss in userDiscussList" class="disc-item">
        <img ng-src = "{{userDiscuss.avatar}}" height="30px" width="30px"/>
        <div class="disc-box">
          <div class="disc-name">{{userDiscuss.real_name}}</div>
          <div class="disc-time">{{userDiscuss.format_date}}</div>
          <div class="disc-content">{{userDiscuss.content}}</div>
        </div>
      </div>
    </div>
    <div class="disc-inputbox">
        <textarea style="width: 100%;" ng-change = "changeDiscussInput(discussContent)" ng-model = "discussContent"></textarea>
      <button class="btn btn-default pull-right" ng-disabled="discussButton" ng-click = "createUserDiscuss()">
        发表
      </button>
      <label class="pull-right">{{discussCount}}/200</label>
    </div>
    <div class="version" ng-show = "navType == 'ver'">
      <div ng-repeat="fileHistory in fileHistoryList" class="disc-item">
        <div class="disc-box">
          <div class="disc-name">{{fileHistory.file_name}}</div>
          <div class="disc-time">{{fileHistory.format_size}}</div>
          <div class="disc-content">{{fileHistory.content}}</div>
        </div>
      </div>
    </div>
  </div>
</div>